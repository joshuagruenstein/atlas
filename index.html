<!DOCTYPE html>

<html>
<head>
    <title>Atlas: Loss Surface Visualization</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pca-js@1.0.0/pca.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">
    <link rel="stylesheet" href="style.css">

</head>
<body>

<input style="display:none" id="filePicker" type="file" />
<div id="modalBox"></div>

<div class="off-canvas off-canvas-sidebar-show" id="main">
    
    <div class="off-canvas-sidebar bg-primary" id="sidebar">

        <div class="container pt-2">

        <h4 class="text-center pt-2">Variables</h4>

        <div id="variableBox"></div>
    </div>
  

    </div>

    <a class="off-canvas-overlay" href="#close"></a>

    <div class="off-canvas-content pl-2" style="overflow-y:scroll">

        <header class="navbar p-2" id="navbarBox"></header>

        <div class="container" id="messageBox"></div>

        <div class="container">
        
            <div class="columns">
                <div class="column col-12">
                    <textarea class="form-input mt-2 input-lg" rows="3" placeholder="Type expression to minimize here" id="expressionSource"></textarea>
                    <div class="text-center" id="expressionRendering">``</div>
                </div>

                <div class="column col-md-9" id="visualizerBox"></div>

                <div class="column col-md-3" id='settingsBox'></div>
            </div>
        
        </div>

    </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=AM_CHTML"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<script>
window.MathJax = {
    "fast-preview": {
        disabled: true
    },
    AuthorInit: function() {
        MathJax.Hub.Register.StartupHook('End', function() {
            MathJax.Hub.processSectionDelay = 0;
            let demoSource = document.getElementById('expressionSource');
            let demoRendering = document.getElementById('expressionRendering');
            let math = MathJax.Hub.getAllJax('demoRendering')[0];
            demoSource.addEventListener('input', function() {
                MathJax.Hub.Queue(['Text', math, demoSource.value]);
            })
        });

        MathJax.Hub.Register.StartupHook('AsciiMath Jax Ready', function () {
            let AM = MathJax.InputJax.AsciiMath.AM;

            AM.newsymbol({
                input:'relu',
                tag:'mi',
                output:'relu',
                tex:null,
                ttype:AM.TOKEN.UNARY,
                func:true
            });
        });
    }
}
</script>

<script type="module" src="index.js"></script>

</body>
</html>